# Лабораторная работа №II.1 

## Разработка библиотеки на языке программирования "С" для операций над множествами с помощью инструментального программного обеспечения в ОС Линукс.

## В данном project-logic.md-file описанs: цели, задачи проекта, а так же его внутрення логика и полная документация по проекту, а описание сборки и запуски проекта находятся в папке: [Сборка и запуск проекта](../README.md)

- [Введение](#введение)
  - [Цель и задачи проекта](#цель-и-задачи-проекта)
  - [Файловая структура проекта](#файловая-структура-проекта)
- [Выполнение проекта](#выполнение-проекта)
  - [Детали проекта](#детали-проекта)
  - [Список доступных функций](#список-доступных-функций)
- [Индивидуальное задание](#индивидуальное-задание)
- [Вывод](#вывод)


## Введение

Данный проект представляет собой библиотеку написанную на языке программирования "С" через Linux-ОС, для работы с множествами. В ней реализованы основные операции над множествами, такие как:

+ включение;
+ строгое включение;
+ объединение;
+ пересечение; 
+ разность; 
+ симметрическая разность;
+ дополнение.

Данный проект является библиотекой написанной на "С", с использование архитектуры проектов, которые пишут на golang, при разработке микросервисной или монолитной архитектуры тех или иных веб-сервисов, так как файловая структура у таких веб-сервисов довольно похожа. Это такой креативный подход автора к выполнению поставленной задачи с целью получению "new development experience". Это нужно для облегчения навигации и управления проектом разработчиками, которые могут быть не знакомы с типичной фалойвой структурой проектов для языка программирования "С".

## Цель и задачи проекта
### Цель проекта:

Изучить методы реализации операций над множествами в языке C, используя инструменты разработки в ОС Линукс, а также освоить практики тестирования, автоматического анализа и форматирования кода.

Основные команды Linux-терминала, которые использовались при создании лабараторной работы:

```shell
ls -lh

cd ..

cd folder_path

mkdir folder_name

touch name_file.file_extension
```

### Скриншот для подтверждения, что работа выполнялась через терминал Linux:
![alt text](<Работа в терминале.png>)



### Задачи проекта:

Задачи — это шаги, которые необходимо предпринять для реализации поставленных целей. По сути цель является совокупностью конкретных задач. Список задач которые необходимо выполнить в ходе проекта:

1) Ознакомление с представлением множеств в виде битовых структур и реализация базовых
операций над множествами, включая включение, объединение, пересечение, разность,
симметрическую разность и дополнение.

2) Закрепление навыков использования механизмов динамического выделения памяти и
работы с битовыми массивами в языке C.

3) Освоение инструментов автоматизированной сборки и анализа кода, включая
использование Makefile, valgrind, clang-format, AddressSanitizer, MemorySanitizer и cppcheck.

4) Выполнение индивидуального задания, связанного с вычислением теоретико-
множественного выражения, используя разработанную библиотеку.

5) Разработка алгоритма решения индивидуального задания, написание и отладка
программы, а также тестирование на различных входных данных. Программа должна
обеспечивать ввод и корректный вывод данных согласно условиям задания. При разработке
использовать указанные инструменты для анализа кода, форматирования, поиска ошибок.


## Файловая структура проекта
```
/bitset_project
│── build/ 
│   │── package/
│   │   │── main
│── cmd/
│   │── bitset/
│   │   │── main.c
│── docs/
│   │── project_logic.md  <- Сейчас вы здесь
│── internal/
│   │── app/
│   │   │── app.c
│   │   │── app.h
│── pkg/
│   │── services/
│   │   │── bitset/
│   │   │   │── bitset.c
│   │   │   │── bitset.h
│   │   │── output/
│   │   │   │── output.c
│   │   │   │── output.h
│── tests/
│   │── tests.c
│── Makefile
│── README.md
```

Такая файловая структура была взята на основе следующих проектов, которые в golang не малым сообществом программситов считаются как образец чистой архитектуры:

[![Link_number_1](https://img.shields.io/badge/Link_number_1-C0750FF)](https://github.com/golang-standards/project-layout)
[![Link_number_2](https://img.shields.io/badge/Link_number_2-CF0085)](https://github.com/olezhek28/clean-architecture/tree/main)


А так же существуют ддополнительные популярные статьи в интернете которые описывают зачем нужна та или иная папка в golang:

[![Link_number_2](https://img.shields.io/badge/Link_number_3-FF0555)](https://golang-blog.blogspot.com/2021/04/basic-project-layout-go-application.html)
[![Link_number_4](https://img.shields.io/badge/Link_number_4-0050FF)](https://habr.com/ru/companies/inDrive/articles/690088/)


И по итогу мы получаем такой интересный гибрид в проекте, где код написан на С, а файловая структура как для go-проектов. При этом если вы привыкли к go-подобным файловым структурам, то вам без особых сильных усилий получиться самостоятельно разобраться что и где лежит. Но давайте все же кратко пройдем по проекту.

### Описание файловой структуры проекта:

 - **_build/_** - в этой папке храниться собранный проект, для конечной версии проекта обычно используют подпапку **_package/_**, а для незаконченной версии или тестов могут использоваться другие папки с любым названием отражающем суть сборки.

 - **cmd/_** - в этой папке храниться **_your_name_folder/_** - то есть ваше название папки, которое должно является названием проекта, который вы разрабатываете, а внутри должен лежать main-file(в golang main.go, в нашем случае main.c), который вляется точкой входа в веб-сервис/библиотеку, суть всего этого в том, чтобы программист всегда знал где находиться точка входа в тот код, с которым ему предстоит работать, ведь людей много и каждый может захотеть сделать точку входа в папке со своим названием и эта папка у разных программистов может иметь разную вложеность и находиться в других папках с кодом. И чтобы избежать таких путаниц(при совместной разработке) было принято создавать точку входа в приложениях в папках с определнным названием. И кроме точки входа в приложение эти папки не должны ничего больше хранить.

 - **_docs/_** - в этой папке обычно храниться общая документация к проекту, какая-либо подробная документацию к каким-то файлам храниться обычно рядом с этими файлами, которым нужно большое пояснение, выходящее за рамки коментариев. Эта папка сама по себе не обязательно, ведь если проект совсем небольшой то может хватить и README.md, а если проект расширяется и становиться большим то используют разделение документации на два и более файлов.

 - **_internal/_** - в этой папке храниться основная внутренняя часть проекта, которую разработчики не хотели бы делать общедоступной(в том же golang сам язык запрещает импорт таких папок, так как там лежит код необоходимый лишь разработчику, но не пользователю), так же эта папка может содержать в себе следующие папки: **_app/_**, **_services/_**, **_config/_**, **_repository/_** и другие папки, в зависимости от проекта, но это основные. В папке **_app/_** - находится функция, которую мы вызвали в точке входа, то есть в этом файле уже идет работа с кодом, но если этот файл становиться слишком большим, то хорошим тоном является перенести часть кода в другой файл, оставив только самое необходимое. В папке **_services/_** - написана вся логика проекта, это слой является промежуточным между API и repository(при разработке на golang) и в этой папке находиться вся-вся бизнес-логика, тут могут быть и свои подпапки, если кода становиться много и он логичесеки разделим внутри себя. В папке **_repository/_** - хранится код, который взаимодействует с базой данных, и с папкой **_services/_**, а конфигурации которые могут быть использованы для работы с базой данных храняться в папке **_config/_**. 
 
 - **Дополнительная, довольно важная, но остуствующая папка в проекте, по той причине что она тут не нужна, но знать о ней необходимо: _migrations/database/file.sql_ - тут храняться миграции к базам данных, обычно это пару файлов, пару таблиц, которые создаются через команды того или иного инстурмента для работы с миграциям баз данных, после чего можно отслеживать изменения баз данных как в системе контроля версий, но со своими особеностями.**

 - **_pkg/_** - эта папка является аналогом для папки **_internal/_**, так как внутри могут быть практически идентичные файлы, но их отличие в том, что файлы из папки **_pkg/_** можно и нужно импортировать в другие проекты, то есть тут можно разместить свою мини-библиотеку, которую можно будет скопировать или с импортировать с гитхаба в любой другой проект.

 - **_tests/_** - в этой папке хранятся тесты к проекту, которые нужны для более коректной и правильной разработки, с проверкой на скорость_работы/объем_занимаемой памяти/утечкой_памяти различных функций/структур/и другого кода. Это называется **_Unit-тестированием_**.



### ***Описание файлов проекта:***

- **_bitset.h/bitset.c_** — библиотека с описанными и реализованными функциями для работы с множествами.
- **_output.h/output.c_** — файлы с функциями вывода данных для библиотеки.
- **_main.c_** — точка входа в проект.
- **_app.c_** — основная программа, которая использует библиотеку.
- **_tests.c_** — файл с тестами функций библиотеки.
- **_Makefile_** — автоматизированная сборка основного проекта и тестов.
- **_README.md_** — краткое описание проекта, инструкция по сборке и запуску проекта.


## Выполнение проекта

### Детали проекта

Множества представлены в виде массивов чисел, где каждое число — это битовая маска, в которой каждый бит двоичной записи соответствует отдельному элементу множества. Такое представление помогает эффективно использовать память и ускоряет выполнение операций с множествами.


### Список доступных функций

#### Функции(написанные в библиотеке) доступные для работы с множествами:

| Функция                          | Описание                       |
|----------------------------------|--------------------------------|
| `bitset_create()`                | Создание множества(конструктор)|
| `bitset_add()`                   | Добавление элемента            |
| `bitset_add_many()`              | Добавление множества элементов |
| `bitset_remove()`                | Удаление элемента              |
| `bitset_remove_many()`           | Удаление множества элементов   |
| `max()`                          | Нахождение макс. длины capacity|
| `bitset_contains()`              | Проверка наличия элемента      |
| `bitset_destroy()`               | Удаление множества(деструктор) |
| `compare_sets()`                 | Проверка равенства множеств    |
| `set_is_subset()`                | Проверка подмножества          |
| `set_is_strong_subset()`         | Проверка строгого подмножества |
| `get_union_set()`                | Объединение                    |
| `get_intersection_set()`         | Пересечение                    |
| `get_difference_set()`           | Разность                       |
| `get_symmetric_difference_set()` | Симметричная разность          |
| `bitset_destroy()`               | Дополнение(отрицание)          |






## Индивидуальное задание

**Условие индивидуального задания:**

$$
A \cup B - \overline{C \cap D \Delta A} \cup B - C \cap D
$$

Так как множества нужно задать самостоятельно, то подберем их сами.

**Заданные множества:**
```math
A = \{1, 2, 3\};\ B = \{1, 3, 5\};\ C = \{1, 2\};\ D = \{9, 10\};\ U = \{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10\};
```

---

Приоритет операций с множствами в дискретной математике: \
1)дополнение(отрицание); \
2)пересечение; \
3)разность; \
4)симетрическая разность; \
5)объединение

---

**Последовательность выполняемых операций:**
```math
1) C \cap D \\
2) (C \cap D) \Delta A \\
3) \overline{C \cap D \Delta A} \\
4) C \cap D \\
5) (B) - (\overline{C \cap D \Delta A} ) \\
6) (B) - (C \cap D) \\
7) (A) \cup (B - \overline{C \cap D \Delta A}) \\
8) (A \cup B - \overline{C \cap D \Delta A}) \cup (B - C \cap D)
```

---

**Выполнение индивидуального задания:**
```math
\ 1) C \cap D = \{1, 2\} \cap \{9, 10\} = \emptyset
```

```math
\ 2) (C \cap D) \Delta A = \emptyset \Delta A = A = \{1, 2, 3\}
```

```math
\ 3) \overline{C \cap D \Delta A} = \overline A = U - A = \{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10\} - \{1, 2, 3\} = \{0, 4, 5, 6, 7, 8, 9, 10\}
```

```math
\ 4) C \cap D = \{1, 2\} \cap \{9, 10\} = \emptyset
```

```math
\ 5) (B) - (\overline{C \cap D \Delta A}) = \{1, 3, 5\} - \{0, 4, 5, 6, 7, 8, 9, 10\} = \{1, 3\}
```

```math
\ 6) (B) - (C \cap D) = B  - \emptyset = B = \{1, 3, 5\}
```

```math
\ 7) (A) \cup (B - \overline{C \cap D \Delta A}) = \{1, 2, 3\} \cup  \{1, 3\} 
= \{1, 2, 3\}
```

```math
\ 8) (A \cup B - \overline{C \cap D \Delta A}) \cup (B - C \cap D) = \{1, 2, 3\} \cup 
\{1, 3, 5\} = \{1, 2, 3, 5\}
```



**Программная реализация индивидуального задания представлена в файле app.c путь к которому: /internal/app/app.c**

## Вывод
### В результате проведенной работы была разработана специализированная библиотека для эффективного и удобного взаимодействия с множествами. Библиотека включает в себя подробную документацию и разнообразные примеры использования, что значительно упрощает её дальнейшую интеграцию и использование в различных проектах.